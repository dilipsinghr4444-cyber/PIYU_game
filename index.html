<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Custom Dino Game</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: linear-gradient(to bottom, #87CEEB 0%, #98D8E8 70%, #f7f7f7 100%); 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            font-family: 'Courier New', monospace; 
            overflow: hidden;
        }
        canvas { 
            border: 3px solid #333; 
            background: #f7f7f7; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-width: 100vw;
            max-height: 50vh;
        }
        #ui { 
            position: absolute; 
            top: 20px; 
            left: 20px; 
            color: #333; 
            font-size: 24px; 
            font-weight: bold; 
            text-shadow: 2px 2px 4px rgba(255,255,255,0.8);
            z-index: 10;
        }
        #game-over { 
            position: absolute; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            background: rgba(0,0,0,0.8); 
            color: white; 
            padding: 30px; 
            border-radius: 15px; 
            text-align: center; 
            font-size: 28px; 
            display: none; 
            box-shadow: 0 0 30px rgba(255,0,0,0.5);
        }
        #instructions {
            position: absolute;
            bottom: 20px;
            color: #666;
            font-size: 16px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="ui">
        <div>Score: <span id="score">0</span></div>
        <div>High: <span id="highScore">0</span></div>
    </div>
    <canvas id="gameCanvas" width="900" height="300"></canvas>
    <div id="gameOver">
        <div>Game Over!</div>
        <div style="font-size: 20px; margin-top: 10px;">Final Score: <span id="finalScore">0</span></div>
        <div style="font-size: 18px; margin-top: 15px;">Press SPACEBAR to Restart</div>
    </div>
    <div id="instructions">üïπÔ∏è SPACEBAR to Jump | Avoid Cacti | Game Speeds Up!</div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('score');
        const highScoreEl = document.getElementById('highScore');
        const gameOverEl = document.getElementById('gameOver');
        const finalScoreEl = document.getElementById('finalScore');

        // Game constants
        const GROUND_Y = canvas.height - 50;
        const DINO_SIZE = 60;
        const JUMP_VELOCITY = -18;
        const GRAVITY = 0.9;
        const CACTUS_TYPES = [
            {w: 20, h: 40},
            {w: 25, h: 50},
            {w: 20, h: 60}
        ];

        // Game state
        let gameState = {
            running: false,
            score: 0,
            highScore: localStorage.getItem('dinoHighScore') || 0,
            speed: 6
        };

        let dino = {
            x: 80,
            y: GROUND_Y - DINO_SIZE,
            vy: 0,
            grounded: true,
            state: 'run' // 'run' or 'jump'
        };

        let cacti = [];
        let clouds = [];
        let groundOffset = 0;

        // Load your custom images
        const imgRun = new Image();
        const imgJump = new Image();
        imgRun.src = '1000134035.jpg'; // Running pose (peace sign)
        imgJump.src = '1000134040.jpg'; // Jumping pose (double fingers)

        let imagesLoaded = 0;
        function imageLoaded() {
            imagesLoaded++;
            if (imagesLoaded === 2) {
                gameState.running = true;
                gameLoop();
            }
        }
        imgRun.onload = imageLoaded;
        imgJump.onload = imageLoaded;
        imgRun.onerror = () => console.log('Load run image: 1000134035.jpg');
        imgJump.onerror = () => console.log('Load jump image: 1000134040.jpg');

        // Input handling
        let keys = {};
        document.addEventListener('keydown', (e) => {
            keys[e.code] = true;
            if (e.code === 'Space') {
                e.preventDefault();
                if (!gameState.running) {
                    resetGame();
                } else if (dino.grounded) {
                    dino.vy = JUMP_VELOCITY;
                    dino.grounded = false;
                    dino.state = 'jump';
                }
            }
        });

        function resetGame() {
            gameState.score = 0;
            gameState.speed = 6;
            dino.y = GROUND_Y - DINO_SIZE;
            dino.vy = 0;
            dino.grounded = true;
            dino.state = 'run';
            cacti = [];
            clouds = [];
            gameState.running = true;
            gameOverEl.style.display = 'none';
        }

        function spawnCactus() {
            if (Math.random() < 0.025 * gameState.speed / 6) {
                const type = CACTUS_TYPES[Math.floor(Math.random() * CACTUS_TYPES.length)];
                cacti.push({
                    x: canvas.width,
                    y: GROUND_Y - type.h,
                    width: type.w,
                    height: type.h
                });
            }
        }

        function spawnCloud() {
            if (Math.random() < 0.005) {
                clouds.push({
                    x: canvas.width,
                    y: 50 + Math.random() * 80
                });
            }
        }

        function updateDino() {
            if (!dino.grounded) {
                dino.vy += GRAVITY;
                dino.y += dino.vy;
                if (dino.y >= GROUND_Y - DINO_SIZE) {
                    dino.y = GROUND_Y - DINO_SIZE;
                    dino.grounded = true;
                    dino.state = 'run';
                }
            }
        }

        function updateWorld() {
            groundOffset -= gameState.speed;
            if (groundOffset <= -25) groundOffset = 0;

            cacti.forEach((cactus, i) => {
                cactus.x -= gameState.speed;
                if (cactus.x + cactus.width < 0) {
                    cacti.splice(i, 1);
                }
            });

            clouds.forEach(cloud => {
                cloud.x -= gameState.speed * 0.3;
            });
            clouds = clouds.filter(cloud => cloud.x > -50);

            spawnCactus();
            spawnCloud();

            gameState.score++;
            gameState.speed += 0.002;
            scoreEl.textContent = Math.floor(gameState.score / 10);
        }

        function checkCollision() {
            for (let cactus of cacti) {
                if (dino.x < cactus.x + cactus.width &&
                    dino.x + DINO_SIZE > cactus.x &&
                    dino.y < cactus.y + cactus.height &&
                    dino.y + DINO_SIZE > cactus.y) {
                    gameOver();
                    return true;
                }
            }
            return false;
        }

        function gameOver() {
            gameState.running = false;
            gameOverEl.style.display = 'block';
            finalScoreEl.textContent = Math.floor(gameState.score / 10);
            if (gameState.score / 10 > gameState.highScore) {
                gameState.highScore = Math.floor(gameState.score / 10);
                highScoreEl.textContent = gameState.highScore;
                localStorage.setItem('dinoHighScore', gameState.highScore);
            }
        }

        function drawGround() {
            ctx.fillStyle = '#d2b48c';
            ctx.fillRect(0, GROUND_Y, canvas.width, canvas.height - GROUND_Y);
            
            ctx.fillStyle = '#a0522d';
            for (let x = groundOffset % 25 - 25; x < canvas.width; x += 25) {
                ctx.fillRect(x, GROUND_Y, 20, 8);
                ctx.fillRect(x + 5, GROUND_Y + 8, 15, 6);
            }
        }

        function drawClouds() {
            ctx.fillStyle = 'rgba(255,255,255,0.9)';
            clouds.forEach(cloud => {
                ctx.beginPath();
                ctx.arc(cloud.x, cloud.y, 20, 0, Math.PI * 2);
                ctx.arc(cloud.x + 25, cloud.y, 25, 0, Math.PI * 2);
                ctx.arc(cloud.x + 50, cloud.y, 20, 0, Math.PI * 2);
                ctx.fill();
            });
        }

        function drawDino() {
            const img = dino.state === 'run' ? imgRun : imgJump;
            if (img.complete) {
                ctx.drawImage(img, dino.x, dino.y, DINO_SIZE, DINO_SIZE);
            } else {
                // Fallback: draw a placeholder dino
                ctx.fillStyle = dino.state === 'run' ? '#4a90e2' : '#ff6b6b';
                ctx.fillRect(dino.x, dino.y, DINO_SIZE, DINO_SIZE);
                ctx.fillStyle = '#333';
                ctx.fillRect(dino.x + 10, dino.y + 10, 8, 8); // eye
            }
        }

        function drawCacti() {
            cacti.forEach(cactus => {
                ctx.fillStyle = '#228b22';
                ctx.fillRect(cactus.x, cactus.y, cactus.width, cactus.height);
                ctx.fillStyle = '#006400';
                ctx.fillRect(cactus.x + 5, cactus.y, cactus.width - 10, cactus.height - 10);
            });
        }

        function gameLoop() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            drawGround();
            drawClouds();
            drawCacti();
            drawDino();

            if (gameState.running) {
                updateDino();
                updateWorld();
                checkCollision();
            }

            requestAnimationFrame(gameLoop);
        }

        // Auto-start if images fail to load (fallback mode)
        setTimeout(() => {
            if (imagesLoaded < 2) {
                console.log('Images not loaded, using fallback graphics');
                gameState.running = true;
                gameLoop();
            }
        }, 2000);
    </script>
</body>
</html>
